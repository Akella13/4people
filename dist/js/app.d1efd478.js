(function(e){function t(t){for(var c,o,i=t[0],a=t[1],l=t[2],s=0,b=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);d&&d(t);while(b.length)b.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],c=!0,o=1;o<n.length;o++){var a=n[o];0!==r[a]&&(c=!1)}c&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},r={app:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e2300":"4f719f21"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var c=new Promise((function(t,c){n=r[e]=[t,c]}));t.push(n[2]=c);var u,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=o(e);var l=new Error;u=function(t){a.onerror=a.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+c+": "+u+")",l.name="ChunkLoadError",l.type=c,l.request=u,n[1](l)}r[e]=void 0}};var s=setTimeout((function(){u({type:"timeout",target:a})}),12e4);a.onerror=a.onload=u,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04bb":function(e,t,n){},"06b5":function(e,t,n){},"155a":function(e){e.exports=JSON.parse('{"1":{"G":"Книги","B":{"1":{"N":"Алгоритмы. Построение и анализ. Т. Кормен, Ч. Лейзерсон, Р. Ривест, К. Штайн.","T":1},"2":{"N":"Совершенный код. Стив Макконнелл.","T":1},"3":{"N":"JavaScript. Подробное руководство. Дэвид Флэнаган.","T":1}}},"2":{"G":"Еда","C":2,"B":{"7":{"N":"Овсяные пирожные с шоколадной прослойкой","T":3},"8":{"N":"Суп с пекинской капустой","T":3},"85":{"N":"Вишня в коньяке","T":3},"86":{"N":"Постный фаршированный перец","T":3},"109":{"N":"Салат Подсолнух","T":""},"110":{"N":"Форель «Эрланген»","T":""},"111":{"N":"Салат с морепродуктами","T":3},"112":{"N":"Тёртый пирог","T":3},"115":{"N":"Свинина, маринованная в красном вине, с кориандром","T":""},"116":{"N":"Салат с черносливом и ветчиной","T":""},"125":{"N":"Болгарский перец и цуккини на гриле","T":3},"126":{"N":"Салат «Букет нарциссов»","T":3},"127":{"N":"Салат из морепродуктов, с огурцами, рукколой и оливками","T":3}}},"5":{"G":"Спорт","C":2,"B":{"184":{"N":"Беговая дорожка","T":1},"185":{"N":"Гантели съемные","T":1},"186":{"N":"Ружьё охотничье","T":1},"187":{"N":"Велотренажер","T":1}}},"8":{"G":"Сантехника","C":3,"B":{"4":{"N":"Акриловая ванна Alpen Mars ","T":1},"5":{"N":"Смеситель Sturm Classica","T":1},"6":{"N":"Тумба с раковиной Tiffany World ","T":1}}},"10":{"G":"Запчасти для машин","C":3,"B":{"191":{"N":"Амортизатор задний CX-5 ","T":3},"192":{"N":"Пружина амортизатора ","T":3},"193":{"N":"Корпус воздушного фильтра ","T":3},"194":{"N":"Ремень приводной","T":3},"195":{"N":"Диффузор радиатора","T":1},"196":{"N":"Фильтр АКПП","T":3}}},"15":{"G":"Сувениры","C":2,"B":{"11":{"N":"Набор для рисования Пастель","T":3},"12":{"N":"Брелок-рулетка","T":3},"63":{"N":"Брелок-открывалка","T":3},"64":{"N":"Ручка-стилус шариковая","T":3},"146":{"N":"Браслет","T":3},"147":{"N":"Чехол для очков","T":3},"148":{"N":"Сумка для выставок","T":3}}}}')},4731:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f5df1");var c=n("7a23"),r={class:"header"},u=Object(c["d"])(" Курс валюты ($): ");function o(e,t,n,o,i,a){var l=Object(c["h"])("Cart"),s=Object(c["h"])("Catalogue");return Object(c["f"])(),Object(c["c"])("div",null,[Object(c["e"])("header",r,[Object(c["e"])("label",null,[u,Object(c["l"])(Object(c["e"])("input",{type:"number",min:20,max:80,step:5,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.currency=e}),tabindex:"-1"},null,512),[[c["j"],i.currency,void 0,{number:!0}]])]),Object(c["e"])(l,{added:i.addedItem,currency:i.currency},null,8,["added","currency"])]),Object(c["e"])("main",null,[Object(c["e"])(s,{currency:i.currency,onBuy:t[2]||(t[2]=function(e){i.addedItem=e})},null,8,["currency"])])])}var i={class:"groups"},a={class:"group__title"},l={class:"goods"},s={class:"good__title"};function d(e,t,n,r,u,o){return Object(c["f"])(),Object(c["c"])("ul",i,[(Object(c["f"])(!0),Object(c["c"])(c["a"],null,Object(c["g"])(o.groupedGoods,(function(e){return Object(c["f"])(),Object(c["c"])("li",{key:e.id,class:"group"},[Object(c["e"])("h3",a,Object(c["i"])(o.GroupName(e.id)),1),Object(c["e"])("ul",l,[(Object(c["f"])(!0),Object(c["c"])(c["a"],null,Object(c["g"])(e.goods,(function(t,n){return Object(c["f"])(),Object(c["c"])("li",{key:n,class:"good"},[Object(c["e"])("span",s,Object(c["i"])(o.GoodName(e.id,t.id))+" ("+Object(c["i"])(t.inStock)+") ",1),Object(c["e"])("b",{class:[u.currencyRaised,"good__price"]},Object(c["i"])(o.PriceRub(t.priceUSD)),3),Object(c["e"])("button",{class:"button good__action",onClick:function(n){return o.Buy(t,e.id)}},"В корзину",8,["onClick"])])})),128))])])})),128))])}var b=n("5530"),f=n("15fd"),p=(n("a9e3"),n("7db0"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("155a")),j={props:{currency:Number},data:function(){return{goods:[],names:p,currencyRaised:null}},computed:{groupedGoods:function(){return this.goods.reduce((function(e,t){var n=t.groupId,c=Object(f["a"])(t,["groupId"]),r=e.find((function(e){var t=e.id;return t===n}));return r?r.goods.push(c):e.push({id:n,goods:[c]}),e}),[])}},watch:{currency:function(e,t){var n=e-t;this.currencyRaised=n>0?"price--up":n<0?"price--down":null}},mounted:function(){this.ImportGoods(),setInterval(this.ImportGoods,15e3)},methods:{GroupName:function(e){return this.names[e].G},GoodName:function(e,t){return this.names[e].B[t].N},PriceRub:function(e){return Math.round(this.currency*e)},Buy:function(e,t){this.$emit("buy",Object(b["a"])({groupId:t},e))},ImportGoods:function(){var e=this;n.e("chunk-2d0e2300").then(n.t.bind(null,"7e40",3)).then((function(t){e.goods=t.Value.Goods.map((function(e){return{priceUSD:e.C,groupId:e.G,id:e.T,inStock:e.P}}))}))}}};n("be4f");j.render=d;var O=j,m=Object(c["d"])(" Корзина "),h={class:"cart"},y={key:0,class:"cart__content"},g={class:"table"},v=Object(c["e"])("thead",null,[Object(c["e"])("tr",{class:"table__row"},[Object(c["e"])("th",null,"Название"),Object(c["e"])("th",null,"Кол-во"),Object(c["e"])("th",null,"Цена, ₽"),Object(c["e"])("th")])],-1),N={class:"table__cell"},T={class:"table__cell"},_={class:"table__cell"},k={class:"table__cell"},w={class:"cart__total"},G=Object(c["d"])(" Всего: "),C={key:1,class:"cart__msg"};function S(e,t,n,r,u,o){return Object(c["f"])(),Object(c["c"])("div",null,[Object(c["e"])("button",{onClick:t[1]||(t[1]=function(e){return u.cartShown=!u.cartShown}),class:"button"},[m,Object(c["l"])(Object(c["e"])("span",null," ("+Object(c["i"])(u.items.length)+") ",513),[[c["k"],u.items.length>0]])]),Object(c["l"])(Object(c["e"])("section",h,[u.items.length>0?(Object(c["f"])(),Object(c["c"])("div",y,[Object(c["e"])("table",g,[v,Object(c["e"])("tbody",null,[(Object(c["f"])(!0),Object(c["c"])(c["a"],null,Object(c["g"])(u.items,(function(e,t){return Object(c["f"])(),Object(c["c"])("tr",{key:t,class:"table__row"},[Object(c["e"])("td",N,Object(c["i"])(o.GoodName(e.groupId,e.id)),1),Object(c["e"])("td",T,[Object(c["l"])(Object(c["e"])("input",{type:"number","onUpdate:modelValue":function(t){return e.quantity=t},min:1,class:"input__number"},null,8,["onUpdate:modelValue"]),[[c["j"],e.quantity,void 0,{number:!0}]])]),Object(c["e"])("td",_,[Object(c["e"])("b",null,Object(c["i"])(o.PriceRub(e.priceUSD)*e.quantity),1)]),Object(c["e"])("td",k,[Object(c["e"])("button",{class:"button table__action",onClick:function(t){return o.Remove(e)}},"✕",8,["onClick"])])])})),128))])]),Object(c["e"])("p",w,[G,Object(c["e"])("b",null,Object(c["i"])(o.total)+" ₽",1)])])):(Object(c["f"])(),Object(c["c"])("p",C," Нет товаров в корзине "))],512),[[c["k"],u.cartShown]])])}n("b64b"),n("c740"),n("a434");var I={props:{added:{type:Object,default:function(){}},currency:Number},data:function(){return{items:[],names:p,cartShown:!1}},computed:{total:function(){var e=this;return this.items.reduce((function(t,n){var c=e.PriceRub(n.priceUSD),r=c*n.quantity;return t+r}),0)}},watch:{added:function(e){if(e&&Object.keys(e).length>0){var t=this.items.find((function(t){return t.id===e.id&&t.groupId===e.groupId}));t?t.quantity+=1:this.items.push(Object(b["a"])({quantity:1},e))}}},methods:{Remove:function(e){var t=this.items.findIndex((function(t){return t.id===e.id&&t.groupId===e.groupId}));this.items.splice(t,1)},GroupName:function(e){return this.names[e].G},GoodName:function(e,t){return this.names[e].B[t].N},PriceRub:function(e){return Math.round(this.currency*e)}}};n("ec68");I.render=S;var P=I,B={name:"App",components:{Catalogue:O,Cart:P},data:function(){return{addedItem:{},currency:75}}};n("918b");B.render=o;var x=B;Object(c["b"])(x).mount("#app")},"918b":function(e,t,n){"use strict";n("04bb")},be4f:function(e,t,n){"use strict";n("4731")},ec68:function(e,t,n){"use strict";n("06b5")}});
//# sourceMappingURL=app.d1efd478.js.map